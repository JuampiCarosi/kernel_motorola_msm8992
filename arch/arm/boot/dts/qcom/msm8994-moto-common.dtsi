/* Copyright (c) 2014, Motorla Mobility LLC. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 and
 * only version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */

#include "msm8994.dtsi"
#include "msm8994-pinctrl.dtsi"
#include "msm8994-mot-camera-sensor.dtsi"
#include "dsi-panel-mot-dummy-qhd-video.dtsi"

/ {
	aliases {
		i2c5 = &i2c_5;
		spi6 = &spi_6;
		spi7 = &spi_7;
	};
};

&tlmm_pinmux {
	pmx_c55_reset {
		qcom,pins = <&gp 8>;
		qcom,num-grp-pins = <1>;
		qcom,pin-func = <0>;
		label = "c55-reset";

		c55_reset_default: default {
			drive-strength = <2>;
			bias-disable; /* no pull */
			output-low;
		};
	};

	pmx_ap_c55_int_n {
		qcom,pins = <&gp 11>;
		qcom,num-grp-pins = <1>;
		qcom,pin-func = <0>;
		label = "ap-c55-int-n";

		ap_c55_int_n_default: default {
			drive-strength = <2>;
			bias-disable; /* no pull */
			output-high;
		};
	};

	pmx_c55_core_en {
		qcom,pins = <&gp 21>;
		qcom,num-grp-pins = <1>;
		qcom,pin-func = <0>;
		label = "c55-core-en";

		c55_core_en_default: default {
			drive-strength = <2>;
			bias-disable; /* no pull */
			output-low;
		};
	};

	pmx_i2c_5_sda {
		qcom,pins = <&gp 23>;
		qcom,num-grp-pins = <1>;
		qcom,pin-func = <4>;
		label = "pmx_i2c_5_sda";

		i2c_5_sda_active: i2c_5_sda_active {
			drive-strength = <2>;
			bias-disable;
		};

		i2c_5_sda_sleep: i2c_5_sda_sleep {
			drive-strength = <2>;
			bias-disable;
		};
	};

	pmx_i2c_5_scl {
		qcom,pins = <&gp 24>;
		qcom,num-grp-pins = <1>;
		qcom,pin-func = <5>;
		label = "pmx_i2c_5_scl";

		i2c_5_scl_active: i2c_5_scl_active {
			drive-strength = <2>;
			bias-disable;
		};

		i2c_5_scl_sleep: i2c_5_scl_sleep {
			drive-strength = <2>;
			bias-disable;
		};
	};

	pmx_spi_6_mosi {
		qcom,pins = <&gp 25>;
		qcom,num-grp-pins = <1>;
		qcom,pin-func = <3>;
		label = "spi_6_mosi";

		spi_6_mosi_active: active {
			drive-strength = <6>;
			bias-pull-up;
		};

		spi_6_mosi_sleep: sleep {
			drive-strength = <6>;
			bias-pull-up;
		};
	};

	pmx_spi_6_miso {
		qcom,pins = <&gp 26>;
		qcom,num-grp-pins = <1>;
		qcom,pin-func = <2>;
		label = "spi_6_miso";

		spi_6_miso_active: active {
			drive-strength = <6>;
			bias-pull-up;
		};

		spi_6_miso_sleep: sleep {
			drive-strength = <6>;
			bias-pull-up;
		};
	};

	pmx_spi_6_cs {
		qcom,pins = <&gp 27>;
		qcom,num-grp-pins = <1>;
		qcom,pin-func = <1>;
		label = "spi_6_cs";

		spi_6_cs_active: active {
			drive-strength = <6>;
			bias-pull-up;
		};

		spi_6_cs_sleep: sleep {
			drive-strength = <6>;
			bias-pull-up;
		};
	};

	pmx_spi_6_clk {
		qcom,pins = <&gp 28>;
		qcom,num-grp-pins = <1>;
		qcom,pin-func = <1>;
		label = "spi_6_clk";

		spi_6_clk_active: active {
			drive-strength = <6>;
			bias-pull-up;
		};

		spi_6_clk_sleep: sleep {
			drive-strength = <6>;
			bias-pull-up;
		};
	};

	pmx_hs_det_n {
		qcom,pins = <&gp 29>;
		qcom,num-grp-pins = <1>;
		qcom,pin-func = <0>;
		label = "hs-det-n";

		fsa8500_hs_det_default: fsa8500-hs-det {
			drive-strength = <2>;
			bias-pull-up; /* pull up */
		};
	};

	touch_reset_n {
		qcom,pins = <&gp 39>;
		qcom,num-grp-pins = <1>;
		qcom,pin-func = <0>;
		label = "touch-reset";

		touch_reset_default: touch-reset {
			drive-strength = <2>;
			bias-disable; /* no pull */
			output-low;
		};
	};

	touch_int_n {
		qcom,pins = <&gp 40>;
		qcom,num-grp-pins = <1>;
		qcom,pin-func = <0>;
		label = "touch-int";

		touch_int_default: touch-int {
			drive-strength = <2>;
			bias-pull-up; /* pull-up */
		};
	};

	pmx_spi_7 {
		qcom,pins = <&gp 41 &gp 42 &gp 43 &gp 44>;
		qcom,num-grp-pins = <4>;
		qcom,pin-func = <1>;
		label = "spi_7";

		spi_7_active: active {
			drive-strength = <6>;
			bias-pull-up;
		};

		spi_7_sleep: sleep {
			drive-strength = <6>;
			bias-pull-up;
		};
	};

	blsp2_uart4_rxtx_active {
		qcom,pins = <&gp 53>, <&gp 54>;
		qcom,num-grp-pins = <2>;
		qcom,pin-func = <4>;
		label = "blsp2_uart4_rxtx_active";
		hsuart_10_rxtx_active: default {
			drive-strength = <16>;
			bias-disable;
		};
	};

	blsp2_uart4_rxtx_sleep {
		qcom,pins = <&gp 53>, <&gp 54>;
		qcom,num-grp-pins = <2>;
		qcom,pin-func = <4>;
		label = "blsp2_uart4_rxtx_sleep";
		hsuart_10_rxtx_sleep: default {
			drive-strength = <16>;
			bias-disable;
		};
	};

	blsp2_uart4_cts_rfr_active {
		qcom,pins = <&gp 55>, <&gp 56>;
		qcom,num-grp-pins = <2>;
		qcom,pin-func = <3>;
		label = "blsp2_uart4_cts_rfr_active";
		hsuart_10_cts_rfr_active: default {
			drive-strength = <16>;
			bias-disable;
		};
	};

	blsp2_uart4_cts_rfr_sleep {
		qcom,pins = <&gp 55>, <&gp 56>;
		qcom,num-grp-pins = <2>;
		qcom,pin-func = <3>;
		label = "blsp2_uart4_cts_rfr_sleep";
		hsuart_10_cts_rfr_sleep: default {
			drive-strength = <16>;
			bias-disable;
		};
	};

	pmx_c55_ap_int {
		qcom,pins = <&gp 66>;
		qcom,num-grp-pins = <1>;
		qcom,pin-func = <0>;
		label = "c55-ap-int";

		c55_ap_int_default: default {
			drive-strength = <2>;
			bias-pull-up; /* no pull */
		};
	};

	tmp108_irq {
		qcom,pins = <&gp 77>;
		qcom,num-grp-pins = <1>;
		qcom,pin-func = <0>;
		label = "tmp108_irq";
		tmp108_irq_default: default {
			bias-pull-up;
			drive-strength = <2>;
		};
	};

	pmx_nfc_irq {
		qcom,pins = <&gp 90>;
		qcom,num-grp-pins = <1>;
		qcom,pin-func = <0>;
		label = "nfc_irq";
		nfc_irq_default: default {
			bias-pull-down;
			drive-strength = <2>;
		};
	};

	pmx_drv2605 {
		qcom,pins = <&gp 91>;
		qcom,num-grp-pins = <1>;
		qcom,pin-func = <0>;
		label = "drv2605-en";

		drv2605_en_default: default {
			drive-strength = <2>;
			bias-disable; /* no pull */
			output-low;
		};
	};

	pmx_tfa9890_reset {
		qcom,pins = <&gp 105>;
		qcom,num-grp-pins = <1>;
		qcom,pin-func = <0>;
		label = "tfa9890-reset";

		tfa9890_reset_default: default {
			drive-strength = <2>;
			bias-disable; /* no pull */
			output-low;
		};
	};

	pmx_stm401_out {
		qcom,pins = <&gp 57 &gp 78 &gp 89>;
		qcom,num-grp-pins = <3>;
		qcom,pin-func = <0>;
		label = "stm401_out";
		stm401_out_default: default {
			bias-disable;
			output-low;
			drive-strength = <2>;
		};
	};

	pmx_stm401_in {
		qcom,pins = <&gp 16 &gp 65 &gp 127>;
		qcom,num-grp-pins = <3>;
		qcom,pin-func = <0>;
		label = "stm401_in";
		stm401_in_default: default {
			bias-disable;
			drive-strength = <2>;
		};
	};
	pmx_florida_irq {
		qcom,pins = <&gp 72>;
		qcom,num-grp-pins = <1>;
		qcom,pin-func = <0>;
		label = "florida_irq";
		florida_irq_default: default {
			bias-disable;
			drive-strength = <2>;
		};
	};
	pmx_florida_reset {
		qcom,pins = <&gp 68>;
		qcom,num-grp-pins = <1>;
		qcom,pin-func = <0>;
		label = "florida_reset";
		florida_reset_default: default {
			output-high;
			bias-pull-up;
			drive-strength = <2>;
		};
	};

};

&sdhc_1 {
	vdd-supply = <&pm8994_l20>;
	qcom,vdd-voltage-level = <2950000 2950000>;
	qcom,vdd-current-level = <200 570000>;

	vdd-io-supply = <&pm8994_s4>;
	qcom,vdd-io-always-on;
	qcom,vdd-io-voltage-level = <1800000 1800000>;
	qcom,vdd-io-current-level = <200 325000>;

	pinctrl-names = "active", "sleep";
	pinctrl-0 = <&sdc1_clk_on &sdc1_cmd_on &sdc1_data_on &sdc1_rclk_on>;
	pinctrl-1 = <&sdc1_clk_off &sdc1_cmd_off &sdc1_data_off &sdc1_rclk_off>;

	qcom,nonremovable;

	qcom,clk-rates = <400000 20000000 25000000 50000000 100000000 192000000 384000000>;
	qcom,bus-speed-mode = "HS400_1p8v", "HS200_1p8v", "DDR_1p8v";
	status = "ok";
};

&sdhc_2 {
	vdd-supply = <&pm8994_l21>;
	qcom,vdd-voltage-level = <2950000 2950000>;
	qcom,vdd-current-level = <200 800000>;

	vdd-io-supply = <&pm8994_l13>;
	qcom,vdd-io-voltage-level = <1800000 2950000>;
	qcom,vdd-io-current-level = <200 22000>;

	#address-cells = <0>;
	interrupt-parent = <&sdhc_2>;
	interrupts = <0 1 2>;
	#interrupt-cells = <1>;
	interrupt-map-mask = <0xffffffff>;
	interrupt-map = <0 &intc 0 125 0
			1 &intc 0 221 0
			2 &pm8994_gpios 22 0x3>;
	interrupt-names = "hc_irq", "pwr_irq", "status_irq";
	cd-gpios = <&pm8994_gpios 22 0x1>;

	pinctrl-names = "active", "sleep";
	pinctrl-0 = <&sdc2_clk_on &sdc2_cmd_on &sdc2_data_on>;
	pinctrl-1 = <&sdc2_clk_off &sdc2_cmd_off &sdc2_data_off>;

	qcom,clk-rates = <400000 20000000 25000000 50000000 100000000 200000000>;
	qcom,bus-speed-mode = "SDR12", "SDR25", "SDR50", "DDR50", "SDR104";
	status = "ok";
};

&pm8994_vadc {
	chan@5 {
		label = "vcoin";
		reg = <5>;
		qcom,decimation = <0>;
		qcom,pre-div-channel-scaling = <1>;
		qcom,calibration-type = "absolute";
		qcom,scale-function = <0>;
		qcom,hw-settle-time = <0>;
		qcom,fast-avg-setup = <0>;
	};

	chan@7 {
		label = "vph_pwr";
		reg = <7>;
		qcom,decimation = <0>;
		qcom,pre-div-channel-scaling = <1>;
		qcom,calibration-type = "absolute";
		qcom,scale-function = <0>;
		qcom,hw-settle-time = <0>;
		qcom,fast-avg-setup = <0>;
	};

	chan@73 {
		label = "msm_therm";
		reg = <0x73>;
		qcom,decimation = <0>;
		qcom,pre-div-channel-scaling = <0>;
		qcom,calibration-type = "ratiometric";
		qcom,scale-function = <2>;
		qcom,hw-settle-time = <2>;
		qcom,fast-avg-setup = <0>;
	};

	chan@74 {
		label = "emmc_therm";
		reg = <0x74>;
		qcom,decimation = <0>;
		qcom,pre-div-channel-scaling = <0>;
		qcom,calibration-type = "ratiometric";
		qcom,scale-function = <2>;
		qcom,hw-settle-time = <2>;
		qcom,fast-avg-setup = <0>;
	};

	chan@75 {
		label = "pa_therm0";
		reg = <0x75>;
		qcom,decimation = <0>;
		qcom,pre-div-channel-scaling = <0>;
		qcom,calibration-type = "ratiometric";
		qcom,scale-function = <2>;
		qcom,hw-settle-time = <2>;
		qcom,fast-avg-setup = <0>;
	};

	chan@77 {
		label = "pa_therm1";
		reg = <0x77>;
		qcom,decimation = <0>;
		qcom,pre-div-channel-scaling = <0>;
		qcom,calibration-type = "ratiometric";
		qcom,scale-function = <2>;
		qcom,hw-settle-time = <2>;
		qcom,fast-avg-setup = <0>;
	};

	chan@78 {
		label = "quiet_therm";
		reg = <0x78>;
		qcom,decimation = <0>;
		qcom,pre-div-channel-scaling = <0>;
		qcom,calibration-type = "ratiometric";
		qcom,scale-function = <2>;
		qcom,hw-settle-time = <2>;
		qcom,fast-avg-setup = <0>;
	};
};

&pm8994_adc_tm {
	chan@73 {
		label = "msm_therm";
		reg = <0x73>;
		qcom,decimation = <0>;
		qcom,pre-div-channel-scaling = <0>;
		qcom,calibration-type = "ratiometric";
		qcom,scale-function = <2>;
		qcom,hw-settle-time = <2>;
		qcom,fast-avg-setup = <0>;
		qcom,btm-channel-number = <0x48>;
		qcom,thermal-node;
	};

	chan@74 {
		label = "emmc_therm";
		reg = <0x74>;
		qcom,decimation = <0>;
		qcom,pre-div-channel-scaling = <0>;
		qcom,calibration-type = "ratiometric";
		qcom,scale-function = <2>;
		qcom,hw-settle-time = <2>;
		qcom,fast-avg-setup = <0>;
		qcom,btm-channel-number = <0x68>;
		qcom,thermal-node;
	};

	chan@75 {
		label = "pa_therm0";
		reg = <0x75>;
		qcom,decimation = <0>;
		qcom,pre-div-channel-scaling = <0>;
		qcom,calibration-type = "ratiometric";
		qcom,scale-function = <2>;
		qcom,hw-settle-time = <2>;
		qcom,fast-avg-setup = <0>;
		qcom,btm-channel-number = <0x70>;
		qcom,thermal-node;
	};

	chan@77 {
		label = "pa_therm1";
		reg = <0x77>;
		qcom,decimation = <0>;
		qcom,pre-div-channel-scaling = <0>;
		qcom,calibration-type = "ratiometric";
		qcom,scale-function = <2>;
		qcom,hw-settle-time = <2>;
		qcom,fast-avg-setup = <0>;
		qcom,btm-channel-number = <0x78>;
		qcom,thermal-node;
	};

	chan@78 {
		label = "quiet_therm";
		reg = <0x78>;
		qcom,decimation = <0>;
		qcom,pre-div-channel-scaling = <0>;
		qcom,calibration-type = "ratiometric";
		qcom,scale-function = <2>;
		qcom,hw-settle-time = <2>;
		qcom,fast-avg-setup = <0>;
		qcom,btm-channel-number = <0x80>;
		qcom,thermal-node;
	};
};

&pmi8994_vadc {
	chan@0 {
		label = "usbin";
		reg = <0>;
		qcom,decimation = <0>;
		qcom,pre-div-channel-scaling = <4>;
		qcom,calibration-type = "absolute";
		qcom,scale-function = <0>;
		qcom,hw-settle-time = <0>;
		qcom,fast-avg-setup = <0>;
	};

	chan@1 {
		label = "dcin";
		reg = <1>;
		qcom,decimation = <0>;
		qcom,pre-div-channel-scaling = <4>;
		qcom,calibration-type = "absolute";
		qcom,scale-function = <0>;
		qcom,hw-settle-time = <0>;
		qcom,fast-avg-setup = <0>;
	};
};

&mdss_mdp {
	qcom,mdss-pref-prim-intf = "dsi";
};

&pmx_mdss {
	qcom,num-grp-pins = <1>;
	qcom,pins = <&gp 94>;
};

&pmx_mdss_te {
	qcom,num-grp-pins = <1>;
	qcom,pins = <&gp 10>;
};

&i2c_2 {
	synaptics_dsx_i2c@3b {
		compatible = "synaptics,synaptics_dsx_i2c";
		reg = <0x3b>;
		interrupts = <&msm_gpio 40 0>;
		gpios = <&msm_gpio 40 0>, /* IRQ */
			<&msm_gpio 39 0>; /* RESET */
		touch_vdd-supply = <&pm8994_l22>;
		synaptics,normal-mode = <1>;
		synaptics,gpio-config;
		pinctrl-names = "default";
		pinctrl-0 = <&touch_reset_default &touch_int_default>;
	};
};

&pcie0 {
	status = "disable";
};

&soc {
	vreg_5p0: vreg_5v {
		compatible = "regulator-fixed";
		regulator-name = "vreg_5p0";
		gpio = <&pmi8994_gpios 6 0>;
	};

	dummy_vreg: dummy_vreg {
		compatible = "regulator-fixed";
		status = "ok";
		regulator-name = "dummy_vreg";
		regulator-always-on;
	};

	ti,c55-ctrl {
		compatible = "ti,c55-ctrl";
		reg = <0 0>;

		ti,mclk-absent;

		gpios = <&msm_gpio 21 2>,     /* gpio_core */
			<&msm_gpio 8 0>,      /* gpio_reset */
			<&msm_gpio 66 1>,     /* gpio_ap_int */
			<&msm_gpio 11 2>;     /* gpio_c55_int */

		pinctrl-names = "default";
		pinctrl-0 = <&c55_reset_default &c55_core_en_default
				&c55_ap_int_default &ap_c55_int_n_default>;
	};

	i2c_5: i2c@f9927000 { /* BLSP1 QUP5 */
		compatible = "qcom,i2c-msm-v2";
		#address-cells = <1>;
		#size-cells = <0>;
		reg-names = "qup_phys_addr", "bam_phys_addr";
		reg = <0xf9927000 0x1000>,
		      <0xf9904000 0x19000>;
		interrupt-names = "qup_irq", "bam_irq";
		interrupts = <0 99 0>, <0 238 0>;
		qcom,clk-freq-out = <100000>;
		qcom,clk-freq-in  = <19200000>;
		clock-names = "iface_clk", "core_clk";
		clocks = <&clock_gcc clk_gcc_blsp1_ahb_clk>,
			 <&clock_gcc clk_gcc_blsp1_qup5_i2c_apps_clk>;

		pinctrl-names = "i2c_active", "i2c_sleep";
		pinctrl-0 = <&i2c_5_sda_active &i2c_5_scl_active>;
		pinctrl-1 = <&i2c_5_sda_sleep &i2c_5_scl_sleep>;
		qcom,noise-rjct-scl = <0>;
		qcom,noise-rjct-sda = <0>;
		qcom,bam-pipe-idx-cons = <16>;
		qcom,bam-pipe-idx-prod = <17>;
		qcom,master-id = <86>;

		stm401@39 {
			compatible = "stm,stm401";
			reg = <0x39>;
			gpios = <&msm_gpio 127 0>,      /* IRQ          */
				<&msm_gpio 57 0>,       /* RESET        */
				<&msm_gpio 78 0>,       /* BSLEN        */
				<&msm_gpio 65 0>,       /* WakeIRQ      */
				<&msm_gpio 89 0>,       /* SH Wake      */
				<&msm_gpio 16 0>;       /* SH Wake Resp */
			lux_table = <5 50 100 1500 3000 8000>;
			brightness_table = <9 14 18 46 67 93 140>;
			bslen_pin_active_value = <1>;
			ct406_detect_threshold = <0x006E>;
			ct406_undetect_threshold = <0x0050>;
			ct406_recalibrate_threshold = <0x0064>;
			ct406_pulse_count = <0x04>;
			sensor1-supply = <&pm8994_lvs2>;
			sensor2-supply = <&pm8994_l17>;

			pinctrl-names = "default";
			pinctrl-0 = <&stm401_out_default &stm401_in_default>;
		};
	};

	gpio_keys {
		compatible = "gpio-keys";
		input-name = "gpio-keys";

		vol_up {
			label = "volume_up";
			gpios = <&pm8994_gpios 3 0x1>;
			linux,input-type = <1>;
			linux,code = <115>;
			gpio-key,wakeup;
			debounce-interval = <15>;
		};
	};

	spi_6: spi@f9928000 { /* BLSP1 QUP6 */
		compatible = "qcom,spi-qup-v2";
		#address-cells = <1>;
		#size-cells = <0>;
		reg-names = "spi_physical", "spi_bam_physical";
		reg = <0xf9928000 0x1000>,
		      <0xf9904000 0x19000>;
		interrupt-names = "spi_irq", "spi_bam_irq";
		interrupts = <0 100 0>, <0 238 0>;
		spi-max-frequency = <19200000>;

		qcom,infinite-mode = <0>;
		qcom,use-bam;
		qcom,ver-reg-exists;
		qcom,bam-consumer-pipe-index = <22>;
		qcom,bam-producer-pipe-index = <23>;
		qcom,master-id = <86>;
		qcom,use-pinctrl;
		pinctrl-names = "spi_default", "spi_sleep";
		pinctrl-0 = <&spi_6_miso_active &spi_6_mosi_active &spi_6_clk_active>;
		pinctrl-1 = <&spi_6_miso_sleep &spi_6_mosi_sleep &spi_6_clk_sleep>;

		clock-names = "iface_clk", "core_clk";

		clocks = <&clock_gcc clk_gcc_blsp1_ahb_clk>,
			 <&clock_gcc clk_gcc_blsp1_qup6_spi_apps_clk>;
	};

	spi_7: spi@f9963000 { /* BLSP2 QUP1 */
		compatible = "qcom,spi-qup-v2";
		#address-cells = <1>;
		#size-cells = <0>;
		reg-names = "spi_physical";
		reg = <0xf9963000 0x1000>;
		interrupt-names = "spi_irq";
		interrupts = <0 101 0>;
		spi-max-frequency = <19200000>;
		qcom,master-id = <84>;
		qcom,use-pinctrl;
		pinctrl-names = "spi_default", "spi_sleep";
		pinctrl-0 = <&spi_7_active>;
		pinctrl-1 = <&spi_7_sleep>;

		clock-names = "iface_clk", "core_clk";

		clocks = <&clock_gcc clk_gcc_blsp2_ahb_clk>,
			 <&clock_gcc clk_gcc_blsp2_qup1_spi_apps_clk>;
	};

	blsp2_uart4: uart@f9960000 { /* BLSP2 UART4 */
		compatible = "qcom,msm-hsuart-v14";
		reg = <0xf9960000 0x1000>,
			<0xf9944000 0x19000>;
		reg-names = "core_mem", "bam_mem";
		interrupt-names = "core_irq", "bam_irq", "wakeup_irq";
		#address-cells = <0>;
		interrupt-parent = <&blsp2_uart4>;
		interrupts = <0 1 2>;
		#interrupt-cells = <1>;
		interrupt-map-mask = <0xffffffff>;
		interrupt-map = <0 &intc 0 116 0
				1 &intc 0 241 0
				2 &msm_gpio 54 0>;

		qcom,inject-rx-on-wakeup = <1>;
		qcom,rx-char-to-inject = <0xFD>;

		qcom,bam-tx-ep-pipe-index = <4>;
		qcom,bam-rx-ep-pipe-index = <5>;
		qcom,master-id = <84>;
		clock-names = "core_clk", "iface_clk";
		clocks = <&clock_gcc clk_gcc_blsp2_uart4_apps_clk>,
			<&clock_gcc clk_gcc_blsp2_ahb_clk>;
		pinctrl-names = "sleep", "default";
		pinctrl-0 = <&hsuart_10_cts_rfr_active &hsuart_10_rxtx_active>;
		pinctrl-1 = <&hsuart_10_cts_rfr_sleep &hsuart_10_rxtx_sleep>;

		qcom,msm-bus,name = "buart10";
		qcom,msm-bus,num-cases = <2>;
		qcom,msm-bus,num-paths = <1>;
		qcom,msm-bus,vectors-KBps =
				<84 512 0 0>,
				<84 512 500 800>;
	};

	vbat_disp_vreg: vbat_disp_vreg {
		compatible = "regulator-fixed";
		regulator-name = "vbat_disp";
		gpio = <&msm_gpio 63 0>;
		startup-delay-us = <300>;
		enable-active-high;
	};


	factory_support {
		compatible = "mmi,factory-support-kungpow";
		gpios = <&pm8994_gpios 8 0x0>, /* GPIOF_OUT_INIT_LOW */
			<&pmi8994_gpios 5 0x1>, /* GPIOF_IN */
			<&msm_gpio 64 0x1>; /* GPIOF_IN */
		gpio-names = "factory_kill_disable",
			"factory_cable_detect",
			"factory_warn";
	};
};

&pm8994_gpios {
	gpio@c200 { /* GPIO 3 - VOL_UP */
		qcom,mode = <0>;
		qcom,pull = <0>;
		qcom,vin-sel = <2>;
		qcom,src-sel = <0>;
		qcom,master-en = <1>;
	};

	gpio@c300 { /* GPIO 4 - EN_BST_BYP */
		qcom,mode = <1>; /* Output */
		qcom,pull = <5>; /* None */
		qcom,vin-sel = <2>;
		qcom,src-sel = <0>;
		qcom,out-strength = <1>;
		qcom,master-en = <1>;
	};

	gpio@c400 { /* GPIO 5 - DISP_V1_EN */
		qcom,mode = <1>; /* Output */
		qcom,pull = <5>; /* None */
		qcom,vin-sel = <2>;
		qcom,src-sel = <0>;
		qcom,out-strength = <1>;
		qcom,master-en = <1>;
	};

	gpio@c500 { /* GPIO 6 - DISP_V2_EN */
		qcom,mode = <1>; /* Output */
		qcom,pull = <5>; /* None */
		qcom,vin-sel = <2>;
		qcom,src-sel = <0>;
		qcom,out-strength = <1>;
		qcom,master-en = <1>;
	};

	gpio@c700 { /* GPIO 8 - FACT_KILL_DISABLE */
		qcom,mode = <1>; /* Output */
		qcom,pull = <5>; /* None */
		qcom,vin-sel = <2>;
		qcom,src-sel = <0>;
		qcom,out-strength = <1>;
		qcom,master-en = <1>;
	};

	gpio@c800 { /* GPIO 9 - NFC_ENABLE_N */
		qcom,mode = <1>; /* Output */
		qcom,pull = <5>; /* None */
		qcom,vin-sel = <2>;
		qcom,src-sel = <0>;
		qcom,out-strength = <1>;
		qcom,master-en = <1>;
	};

	gpio@c900 { /* GPIO 10 - NFC_CLK_REQ */
		/* NFC clk request */
		qcom,mode = <0>;                /* QPNP_PIN_MODE_DIG_IN */
		qcom,pull = <5>;                /* QPNP_PIN_PULL_NO */
		qcom,vin-sel = <2>;             /* QPNP_PIN_VIN2 */
		qcom,src-sel = <2>;             /* QPNP_PIN_SEL_FUNC_1 */
		qcom,master-en = <1>;
	};

	gpio@cc00 { /* GPIO 13 - NFC_POWER_ON */
		qcom,mode = <1>; /* Output */
		qcom,pull = <5>; /* None */
		qcom,vin-sel = <2>;
		qcom,src-sel = <0>;
		qcom,out-strength = <1>;
		qcom,master-en = <1>;
	};

	gpio@cd00 { /* GPIO 14 */
		qcom,mode = <1>;
		qcom,vin-sel = <2>;
		qcom,src-sel = <1>;     /* sel = 1 is high */
		qcom,invert = <0>;      /* need invert = 0 */
		qcom,master-en = <1>;
	};

	gpio@ce00 { /* GPIO 15 - DIVCLK1_CODEC */
		qcom,mode = <1>;
		qcom,output-type = <0>;
		qcom,pull = <5>;
		qcom,vin-sel = <2>;
		qcom,out-strength = <1>;
		qcom,src-sel = <2>;
		qcom,master-en = <1>;
	};

	gpio@d100 { /* GPIO 18 - BT_WLAN_32KHZ_IN */
		qcom,mode = <1>;		/* Digital output */
		qcom,output-type = <0>;		/* CMOS logic */
		qcom,invert = <0>;		/* Output low initially */
		qcom,vin-sel = <2>;		/* VIN 2 */
		qcom,src-sel = <3>;		/* Function 2 */
		qcom,out-strength = <2>;	/* Medium */
		qcom,master-en = <1>;		/* Enable GPIO */
	};

	gpio@d200 { /* GPIO 19 - BT_EN */
		qcom,mode = <1>;         /* Digital output*/
		qcom,pull = <4>;         /* Pulldown 10uA */
		qcom,vin-sel = <2>;      /* VIN2 */
		qcom,src-sel = <0>;      /* GPIO */
		qcom,invert = <0>;       /* Invert */
		qcom,master-en = <1>;    /* Enable GPIO */
	};

	gpio@d500 { /* GPIO 22 - SDC_DET_N */
		qcom,mode = <0>;
		qcom,pull = <0>; /* Up */
		qcom,vin-sel = <2>;
		qcom,src-sel = <0>;
		qcom,master-en = <1>;
	};
};

&pm8994_mpps {
	mpp@a000 { /* MPP 1 */
	};

	mpp@a100 { /* MPP 2 */
	};

	mpp@a200 { /* MPP 3 */
	};

	mpp@a300 { /* MPP 4 - USB_HM_DET_N */
		qcom,mode = <0>;		/* Digital Input */
		qcom,vin-sel = <2>;		/* S4 1.8V */
		qcom,pull = <1>;		/* QPNP_PIN_MPP_PULL_UP_OPEN */
		qcom,src-sel = <0>;		/* Constant */
		qcom,ain-route = <1>;		/* QPNP_PIN_AIN_AMUX_CH6 */
		qcom,master-en = <1>;		/* Enable GPIO */
	};

	mpp@a400 { /* MPP 5 */
	};

	mpp@a500 { /* MPP 6 - CCP_RESOUT_N */
		qcom,mode = <0>;		/* Digital Input */
		qcom,vin-sel = <2>;		/* S4 1.8V */
		qcom,src-sel = <0>;		/* Constant */
		qcom,pull = <0>;		/* Pull-Up 0.6k */
		qcom,master-en = <1>;		/* Enable GPIO */
	};

	mpp@a600 { /* MPP 7 - NCP6343_EN */
		qcom,mode = <1>;		/* Digital Output */
		qcom,vin-sel = <2>;		/* S4 1.8V */
		qcom,src-sel = <0>;		/* Constant */
		qcom,pull = <0>;		/* Pull-Up 0.6k */
		qcom,master-en = <1>;		/* Enable GPIO */
	};

	mpp@a700 { /* MPP 8 - LED_SOL_SINK */
		qcom,mode = <6>;		/* QPNP_PIN_MODE_SINK */
		qcom,master-en = <1>;		/* Enable GPIO */
	};
};

&blsp2_uart2 {
	status = "ok";
};

&blsp1_uart2 {
	status= "ok";
	 pinctrl-names = "default";
	 pinctrl-0 = <&uart_console_sleep>;
};

&usb3 {
	status = "ok";
};

&hsphy0 {
	status = "ok";
};

&ssphy0 {
	status = "ok";
};

&qcom_crypto {
	status = "okay";
};

&qcom_cedev {
	status = "okay";
};

&spi_7 {
	florida@0 {
		compatible = "wlf,wm8280";
		spi-max-frequency = <9600000>;
		spi-cs-high;
		reg = <0x0>;
		interrupt-parent = <&msm_gpio>;
		interrupts = <72 0>;
		irq-base = <800>;
		gpio-base = <200>;
		reset = <&msm_gpio 68 0>;

		pinctrl-names = "default";
		pinctrl-0 = <&florida_irq_default &florida_reset_default>;

		AVDD-supply = <&pm8994_s4>;
		DCVDD-supply = <&pm8994_l11>;
		DBVDD1-supply = <&pm8994_s4>;
		DBVDD2-supply = <&pm8994_s4>;
		DBVDD3-supply = <&pm8994_s4>;
		CPVDD-supply = <&pm8994_s4>;
		SPKVDDL-supply = <&dummy_vreg>;
		SPKVDDR-supply = <&dummy_vreg>;

		gpio-controller;
		#gpio-cells = <2>;

		gpio-defaults = <0x00002102
				0xffffffff
				0x00010000
				0x00000004
				0xffffffff>;

	};
};

&i2c_11 {
	fsa8500@23 {
		compatible = "fairchild,fsa8500";
		reg = <0x23>;
		gpios = <&msm_gpio 29 0x0>;
		hs_det_vdd-supply = <&dummy_vreg>; /* Connected to B+ */
		hs_det_micvdd-supply = <&pm8994_s4>;
		fsa8500-init-regs = <0x0c 0xa1>, <0x0f 0xf9>;

		pinctrl-names = "default";
		pinctrl-0 = <&fsa8500_hs_det_default>;
	};

	tmp108@48 {
		compatible = "ti,tmp108";
		reg = <0x48>;
		gpios = <&msm_gpio 77 0>;

		pinctrl-names = "default";
		pinctrl-0 = <&tmp108_irq_default>;
	};

	bcm2079x@76 {
		compatible = "brcm,bcm2079x";
		reg = <0x76>;
		interrupt-parent = <&msm_gpio>;
		interrupts = <90 0>; /* NFC_IRQ */
		gpios = <&pm8994_gpios 9 0>, /* NFC_ENABLE_N */
			<&msm_gpio 90 0>, /* NFC_IRQ */
			<&pm8994_gpios 13 0>; /* NFC_POWER_ON */

		pinctrl-names = "default";
		pinctrl-0 = <&nfc_irq_default>;
	};

	drv2605@5a {
		compatible = "ti,drv2605";
		reg = <0x5a>;
		gpios = <&msm_gpio 91 0>;        /* EN_GPIO */
		external_trigger = <2>;
		default_effect = <17>;          /* Strong Click 100% */
		rated_voltage = <0x70>;         /* 2.4v */
		overdrive_voltage = <0x89>;     /* 3.0v */

		vibrator_vdd-supply = <&vreg_5p0>;

		pinctrl-names = "default";
		pinctrl-0 = <&drv2605_en_default>;
	};

	tfa9890@34 {
		compatible = "nxp,tfa9890";
		reg = <0x34>;
		gpios = <&msm_gpio 105 0>;     /* RESET */
		tfa_vdd-supply = <&pm8994_s4>;
		nxp,tfa_max-vol-steps = <15>;
		nxp,tfa-dev = "left";

		pinctrl-names = "default";
		pinctrl-0 = <&tfa9890_reset_default>;
	};

	smb1357_otg_vreg: smb1357-charger@1e {
		status = "disable";
		compatible = "qcom,smb1359-charger";
		reg = <0x1e>;
		interrupt-parent = <&spmi_bus>;
		interrupts = <0x2 0xc6 0x0>; /* pmi8994 GPIO 7 */
		qcom,float-voltage-mv = <4350>;
		qcom,charging-timeout = <1536>;
		qcom,recharge-thresh-mv = <200>;
		qcom,iterm-disabled;
		regulator-name = "smb1357_otg_vreg";
		qcom,soft-vfloat-comp-disabled;
		qcom,thermal-mitigation = <2500>, <2400>, <2300>, <2100>,
					  <2000>, <1910>, <1800>, <1600>,
					  <1500>, <1400>, <1200>, <1100>,
					  <1000>, <900>, <700>, <600>,
					  <500>, <400>, <300>;
		qcom,dc-thermal-mitigation = <600>, <500>, <400>, <300>;
		qcom,dc-psy-type = "Wireless";
		qcom,dc-psy-ma = <600>;
		qcom,bms-psy-name = "bms";
		qcom,max-batt-curr-ma = <2500>;
		qcom,ext-temp-volt-mv = <4000>;
		qcom,ext-temp-soc = <65>;
	};

	mmi_wls_chrg@6c {
		compatible = "mmi,wls-charger-bq51021";
		reg = <0x6c>;
		gpios = <&pmi8994_gpios 10 0x1>, /* GPIOF_IN */
			<&pmi8994_gpios 4 0x2>, /* GPIOF_OUT_INIT_HIGH */
			<&pmi8994_gpios 3 0x0>; /* GPIOF_OUT_INIT_LOW */
		gpio-names = "pad_detect_n",
				"charge_complete_n",
				"charge_terminate";
		supply-names = "dc", "usb";
		mmi,priority = <1>;
		mmi,resume-soc = <99>;
		mmi,resume-vbatt-mv = <4270>;
		mmi,hot-temp-thresh = <60>;
		mmi,cold-temp-thresh = <(-20)>;
	};

};

&pmi8994_gpios {
	gpio@c200 { /* GPIO 3 - WCHG_TERMINATE */
		qcom,mode = <1>;         /* QPNP_PIN_MODE_DIG_OUT */
		qcom,output-type = <0>;  /* QPNP_PIN_OUT_BUF_CMOS */
		qcom,vin-sel = <2>;      /* QPNP_PIN_VIN2 */
		qcom,src-sel = <0>;      /* QPNP_PIN_SEL_FUNC_CONSTANT */
		qcom,out-strength = <1>; /* QPNP_PIN_OUT_STRENGTH_LOW */
		qcom,master-en = <1>;
	};

	gpio@c300 { /* GPIO 4 - WCHG_COMPLETE_N */
		qcom,mode = <1>;         /* QPNP_PIN_MODE_DIG_OUT */
		qcom,output-type = <0>;  /* QPNP_PIN_OUT_BUF_CMOS */
		qcom,vin-sel = <2>;      /* QPNP_PIN_VIN2 */
		qcom,src-sel = <0>;      /* QPNP_PIN_SEL_FUNC_CONSTANT */
		qcom,out-strength = <1>; /* QPNP_PIN_OUT_STRENGTH_LOW */
		qcom,master-en = <1>;
	};

	gpio@c400 { /* GPIO 5 - FACT_CBL_DET */
		qcom,mode = <0>;        /* QPNP_PIN_MODE_DIG_IN */
		qcom,pull = <5>;        /* QPNP_PIN_PULL_NO */
		qcom,vin-sel = <2>;     /* QPNP_PIN_VIN2 */
		qcom,src-sel = <0>;     /* QPNP_PIN_SEL_FUNC_CONSTANT */
		qcom,master-en = <1>;
	};

	gpio@c500 { /* GPIO 6 - REQ_5V_BST */
		qcom,mode = <1>;         /* QPNP_PIN_MODE_DIG_OUT */
		qcom,output-type = <0>;  /* QPNP_PIN_OUT_BUF_CMOS */
		qcom,vin-sel = <2>;      /* QPNP_PIN_VIN2 */
		qcom,src-sel = <0>;      /* QPNP_PIN_SEL_FUNC_CONSTANT */
		qcom,out-strength = <1>; /* QPNP_PIN_OUT_STRENGTH_LOW */
		qcom,master-en = <1>;
	};

	gpio@c800 { /* GPIO 9 - WCHG_CHG_GOOD_N */
		qcom,mode = <0>;        /* QPNP_PIN_MODE_DIG_IN */
		qcom,pull = <5>;        /* QPNP_PIN_PULL_NO */
		qcom,vin-sel = <2>;     /* QPNP_PIN_VIN2 */
		qcom,src-sel = <0>;     /* QPNP_PIN_SEL_FUNC_CONSTANT */
		qcom,master-en = <1>;
	};

	gpio@c900 { /* GPIO 10 - WCHG_PAD_DET_N */
		qcom,mode = <0>;         /* QPNP_PIN_MODE_DIG_IN */
		qcom,pull = <5>;         /* QPNP_PIN_PULL_NO */
		qcom,vin-sel = <2>;      /* QPNP_PIN_VIN2 */
		qcom,src-sel = <0>;      /* QPNP_PIN_SEL_FUNC_CONSTANT */
		qcom,master-en = <1>;
	};
};

&spmi_bus {
	qcom,pm8994@0 {
		qcom,leds@a700 {
			compatible = "qcom,leds-qpnp";
			reg = <0xa700 0x100>;
			status = "okay";
			label = "mpp";
			qcom,led_mpp_8 {
				label = "mpp";
				linux,name = "charging";
				qcom,default-state = "off";
				qcom,max-current = <40>;
				qcom,current-setting = <5>;
				qcom,id = <6>;
				qcom,source-sel = <1>;
				qcom,mode-ctrl = <0x60>;
				qcom,mode = "manual";
			};
		};
	};

	qcom,pmi8994@3 {
		qcom,leds@d800 {
			status = "disabled";
		};

		qcom,haptic@c000 {
			status = "disabled";
		};

		qcom,leds@d000 {
			qcom,rgb_0 {
				/delete-property/ linux,default-trigger;
			};
			qcom,rgb_1 {
				/delete-property/ linux,default-trigger;
			};
		};

		qcom,leds@d300 {
			status = "disabled";
		};
	};
};
